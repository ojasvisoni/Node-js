let mailer = require("nodemailer");
let Templates = require("./../../../schemas/Templates");
let bluebird = require("bluebird");

const sender = "no-reply@sonigator.co";
const reply = "no-reply@sonigator.co";

var transporter = mailer.createTransport({
	host: "sg2plcpnl0092.prod.sin2.secureserver.net",
	post: 465,
	secure: true,
	auth: {
		user: "no-reply@sonigator.co",
		pass: "reply@123"
	}
});

var today = new Date().toLocaleString();

var mailBodies = {
	register:
	`<!DOCTYPE html><html><head><title>Sonigator-Emailer</title><link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"></head><body style="padding-top: 5%; font-family: poppins;"> <div style="width: 70%; height: auto; margin: 0 auto; box-shadow: 0 0px 21px 3px rgba(0,0,0,.5);"> <p style="text-align: center; padding: 15px 0px; background-image: linear-gradient(90deg, #381768, #383fcf);"> <a href="https://sonigator.co/"><img src="https://cointronix.co/cointronix/images/mailer/logo_default_dark.png" style="width: 23%;"></a> </p><div style="height: auto; background-image: url(https://cointronix.co/cointronix/images/mailer/1.png); background-size: cover; margin-top: -13px; padding:30px 30px 40px 30px;"> <p style="font-size: 13px; color: #333;">Dear {{name}} Greetings !</p><p style="font-size: 13px; color: #333;">Thanks for the sign up. Your Cointronix account enables you to access all Cointronix portals with single login- Cryptocurrency Exchange, Wallet, ICO and the Lending Portal. To activate your account, please click on the following link:</p><p style="font-size: 13px; color: #333;"><a href="{{link}}">Confirm my registration</a></p><p style="font-size: 13px; color: #333;">Go to your dashboard, complete your profile and start buying, selling & trading Crypto currencies instantly. For smooth trading experience and better security complete your profile to 100%, enable 2FA and initiate KYC verification. </p><p style="font-size: 13px; color: #333;">We wish you a successful trading and a committed support from Cointronix Team 24x7 !</p><p style="font-size: 13px; color: #333; padding-top: 20px;"><span>Best Regards,</span><br/>Team Cointronix<br/><a href="https://cointronix.co/">https://cointronix.co</a> </p></div><footer style="background-image: linear-gradient(90deg, #381768, #383fcf); height: auto; text-align: center; margin-top: -13px;"> <ul style="list-style: none; padding-left: 0px; padding-top: 35px;"> <li style="display: inline-block; display: inline-block; width: 15%; text-align: left; line-height: 1; border-left: 1px solid #fff; padding-left: 6px; padding-right: 35px;"> <a href="https://cointronix.co/" style="text-decoration: none; color: #fff; font-size: 13px; line-height: 1;" target="_blank"> cointronix.co<br/> <span style="font-size: 11px; color: #e2d2f9;">Exchange</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; border-left: 1px solid #fff; text-align: left; line-height: 1; padding-left: 6px; padding-right: 35px;"> <a href="https://cointronix.io/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> cointronix.io<br/> <span style="font-size: 11px; color: #e2d2f9;">ICO</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; border-left: 1px solid #fff; text-align: left; line-height: 1; padding-left: 6px; padding-right: 35px;"> <a href="https://evault.cointronix.co/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> evault.cointronix.co<br/> <span style="font-size: 11px; color: #e2d2f9;">Wallet</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; text-align: left; line-height: 1; padding-left: 6px; border-left: 1px solid #fff; padding-right: 35px;"> <a href="http://cointronix.news/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> cointronix.news<br/> <span style="font-size: 11px; color: #e2d2f9;">Newsmag</span> </a> </li></ul> <p style="text-align: center; color: #fff; margin-top: -8px; font-size: 11px; font-weight: 300; width: 75%; margin: 0 auto; color: #e2d2f9;">Cointronix is revolutionizing the financial technology space by combining the best of crypto trading with cutting-age technology tools. Now buy, sell, exchange, spend and lend 15+ Cryptocurrency under one roof. Join Cointronix and help create an open, accessible and fair financial future.</p><ul style="list-style: none; padding-left: 0px;"> <li style="display: inline-block; display: inline-block;"> <a href="https://www.facebook.com/cointronix1/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/f.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://twitter.com/Cointronix_?lang=en" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/t.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://www.instagram.com/cointronix/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/i.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://plus.google.com/112427651539892709664" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/g.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://www.linkedin.com/in/cointronix-exchange-4168ba16a/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/l.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://t.me/Cointronix" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/tt.png" style=" width: 27px;"> </a> </li></ul> <p style="text-align: center; color: #fff; margin-top: -8px; font-size: 11px; font-weight: 300; padding-bottom: 30px; color: #e2d2f9; padding-top: 8px;"><span style="color: #fff;">Cointronix Cryptocurrency Exchange</span><br/> 6 Raffles Boulevard, Marina Square, #03-304 to 327, Singapore 039594<br/> Email : support@cointronix.co Ph : +65 6932 2640</p></footer></div></body></html>`,

	forgot_password:
	`<!DOCTYPE html><html><head><title>Sonigator-Emailer</title><link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"></head><body style="padding-top: 5%; font-family: poppins;"> <div style="width: 70%; height: auto; margin: 0 auto; box-shadow: 0 0px 21px 3px rgba(0,0,0,.5);"> <p style="text-align: center; padding: 15px 0px; background-image: linear-gradient(90deg, #381768, #383fcf);"> <a href="https://sonigator.co/"><img src="https://cointronix.co/cointronix/images/mailer/logo_default_dark.png" style="width: 23%;"></a> </p><div style="height: auto; background-image: url(https://cointronix.co/cointronix/images/mailer/1.png); background-size: cover; margin-top: -13px; padding: 30px 30px 40px 30px;"> <p style="font-size: 13px; color: #333;">Dear {{name}} Greetings !</p><p style="font-size: 13px; color: #333;">Please click on the following link to regain access to your Cointronix account in case you forgot your password. If you clicked the "Forgot Password” link on the portal by mistake, you may discard and delete this Email.</p><p style="font-size: 13px; color: #333;"><a href="{{link}}">Reset my password.</a></p><p style="font-size: 13px; color: #333;">If needed, you may contact the Cointronix Support team through phone call, email or chat. We wish you a successful trading and a committed support from Cointronix Team 24x7 !</p><p style="font-size: 13px; color: #333; padding-top: 20px;"><span>Best Regards,</span><br/>Team Cointronix<br/><a href="https://cointronix.co/">https://cointronix.co</a> </p></div><footer style="background-image: linear-gradient(90deg, #381768, #383fcf); height: auto; text-align: center; margin-top: -13px;"> <ul style="list-style: none; padding-left: 0px; padding-top: 35px;"> <li style="display: inline-block; display: inline-block; width: 15%; text-align: left; line-height: 1; border-left: 1px solid #fff; padding-left: 6px; padding-right: 35px;"> <a href="https://cointronix.co/" style="text-decoration: none; color: #fff; font-size: 13px; line-height: 1;" target="_blank"> cointronix.co<br/> <span style="font-size: 11px; color: #e2d2f9;">Exchange</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; border-left: 1px solid #fff; text-align: left; line-height: 1; padding-left: 6px; padding-right: 35px;"> <a href="https://cointronix.io/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> cointronix.io<br/> <span style="font-size: 11px; color: #e2d2f9;">ICO</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; border-left: 1px solid #fff; text-align: left; line-height: 1; padding-left: 6px; padding-right: 35px;"> <a href="https://evault.cointronix.co/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> evault.cointronix.co<br/> <span style="font-size: 11px; color: #e2d2f9;">Wallet</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; text-align: left; line-height: 1; padding-left: 6px; border-left: 1px solid #fff; padding-right: 35px;"> <a href="http://cointronix.news/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> cointronix.news<br/> <span style="font-size: 11px; color: #e2d2f9;">Newsmag</span> </a> </li></ul> <p style="text-align: center; color: #fff; margin-top: -8px; font-size: 11px; font-weight: 300; width: 75%; margin: 0 auto; color: #e2d2f9;">Cointronix is revolutionizing the financial technology space by combining the best of crypto trading with cutting-age technology tools. Now buy, sell, exchange, spend and lend 15+ Cryptocurrency under one roof. Join Cointronix and help create an open, accessible and fair financial future.</p><ul style="list-style: none; padding-left: 0px;"> <li style="display: inline-block; display: inline-block;"> <a href="https://www.facebook.com/cointronix1/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/f.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://twitter.com/Cointronix_?lang=en" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/t.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://www.instagram.com/cointronix/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/i.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://plus.google.com/112427651539892709664" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/g.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://www.linkedin.com/in/cointronix-exchange-4168ba16a/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/l.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://t.me/Cointronix" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/tt.png" style=" width: 27px;"> </a> </li></ul> <p style="text-align: center; color: #fff; margin-top: -8px; font-size: 11px; font-weight: 300; padding-bottom: 30px; color: #e2d2f9; padding-top: 8px;"><span style="color: #fff;">Cointronix Cryptocurrency Exchange</span><br/> 6 Raffles Boulevard, Marina Square, #03-304 to 327, Singapore 039594<br/> Email : support@cointronix.co Ph : +65 6932 2640</p></footer></div></body></html>`,

	withdrawal:
	`<!DOCTYPE html><html><head><title>Sonigator-Emailer</title><link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"></head><body style="padding-top: 5%; font-family: poppins;"> <div style="width: 70%; height: auto; margin: 0 auto; box-shadow: 0 0px 21px 3px rgba(0,0,0,.5);"> <p style="text-align: center; padding: 15px 0px; background-image: linear-gradient(90deg, #381768, #383fcf);"> <a href="https://sonigator.co/"><img src="https://cointronix.co/cointronix/images/mailer/logo_default_dark.png" style="width: 23%;"></a> </p><div style="height: auto; background-image: url(https://cointronix.co/cointronix/images/mailer/1.png); background-size: cover; margin-top: -13px; padding: 30px 30px 40px 30px;"> <p style="font-size: 13px; color: #333;">Dear {{name}} Greetings !</p><p style="font-size: 13px; color: #333;">We recorded a withdrawal request against your Cointronix Profile ID {{user_id}}. Following are the particulars of this withdrawal request:</p><table> <tr> <td style="font-size: 13px; color: #333; padding-right: 70px;">Date/Time :</td><td style="font-size: 13px; color: #333; padding-right: 70px;">{{date}}</td></tr><tr> <td style="font-size: 13px; color: #333; padding-right: 70px;">Amount : </td><td style="font-size: 13px; color: #333; padding-right: 70px;">{{amount}}</td></tr><tr> <td style="font-size: 13px; color: #333; padding-right: 70px;">Wallet :</td><td style="font-size: 13px; color: #333; padding-right: 70px;">{{wallet}}</td></tr></table> <p style="font-size: 13px; color: #333;">For added security, you need to confirm this withdrawal by clicking on the following confirmation link.</p><p style="font-size: 13px; color: #333;"><a href='{{link}}'><b>Confirm this withdrawal</b></a></p><p style="font-size: 13px; color: #333;">In case the above withdrawal is not initiated by you, we advise not to click on the confirmation link.</p><p style="font-size: 13px; color: #333;">As a security measure, you can change your password and set up a two-factor authentication. If needed, you may contact the Cointronix Support team through phone call, email or chat.</p><p style="font-size: 13px; color: #333;">We wish you a successful trading and a committed support from Cointronix Team 24x7 !</p><p style="font-size: 13px; color: #333; padding-top: 20px;"><span>Best Regards,</span><br/>Team Cointronix<br/><a href="https://cointronix.co/">https://cointronix.co</a> </p></div><footer style="background-image: linear-gradient(90deg, #381768, #383fcf); height: auto; text-align: center; margin-top: -13px;"> <ul style="list-style: none; padding-left: 0px; padding-top: 35px;"> <li style="display: inline-block; display: inline-block; width: 15%; text-align: left; line-height: 1; border-left: 1px solid #fff; padding-left: 6px; padding-right: 35px;"> <a href="https://cointronix.co/" style="text-decoration: none; color: #fff; font-size: 13px; line-height: 1;" target="_blank"> cointronix.co<br/> <span style="font-size: 11px; color: #e2d2f9;">Exchange</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; border-left: 1px solid #fff; text-align: left; line-height: 1; padding-left: 6px; padding-right: 35px;"> <a href="https://cointronix.io/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> cointronix.io<br/> <span style="font-size: 11px; color: #e2d2f9;">ICO</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; border-left: 1px solid #fff; text-align: left; line-height: 1; padding-left: 6px; padding-right: 35px;"> <a href="https://evault.cointronix.co/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> evault.cointronix.co<br/> <span style="font-size: 11px; color: #e2d2f9;">Wallet</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; text-align: left; line-height: 1; padding-left: 6px; border-left: 1px solid #fff; padding-right: 35px;"> <a href="http://cointronix.news/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> cointronix.news<br/> <span style="font-size: 11px; color: #e2d2f9;">Newsmag</span> </a> </li></ul> <p style="text-align: center; color: #fff; margin-top: -8px; font-size: 11px; font-weight: 300; width: 75%; margin: 0 auto; color: #e2d2f9;">Cointronix is revolutionizing the financial technology space by combining the best of crypto trading with cutting-age technology tools. Now buy, sell, exchange, spend and lend 15+ Cryptocurrency under one roof. Join Cointronix and help create an open, accessible and fair financial future.</p><ul style="list-style: none; padding-left: 0px;"> <li style="display: inline-block; display: inline-block;"> <a href="https://www.facebook.com/cointronix1/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/f.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://twitter.com/Cointronix_?lang=en" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/t.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://www.instagram.com/cointronix/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/i.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://plus.google.com/112427651539892709664" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/g.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://www.linkedin.com/in/cointronix-exchange-4168ba16a/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/l.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://t.me/Cointronix" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/tt.png" style=" width: 27px;"> </a> </li></ul> <p style="text-align: center; color: #fff; margin-top: -8px; font-size: 11px; font-weight: 300; padding-bottom: 30px; color: #e2d2f9; padding-top: 8px;"><span style="color: #fff;">Cointronix Cryptocurrency Exchange</span><br/> 6 Raffles Boulevard, Marina Square, #03-304 to 327, Singapore 039594<br/> Email : support@cointronix.co Ph : +65 6932 2640</p></footer></div></body></html>`,

	login_notice: 
	`<!DOCTYPE html><html><head><title>Sonigator-Emailer</title><link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"></head><body style="padding-top: 5%; font-family: poppins;"> <div style="width: 70%; height: auto; margin: 0 auto; box-shadow: 0 0px 21px 3px rgba(0,0,0,.5);"> <p style="text-align: center; padding: 15px 0px; background-image: linear-gradient(90deg, #381768, #383fcf);"> <a href="https://sonigator.co/"><img src="https://cointronix.co/cointronix/images/mailer/logo_default_dark.png" style="width: 23%;"></a> </p><div style="height: auto; background-image: url(https://cointronix.co/cointronix/images/mailer/1.png); background-size: cover; margin-top: -13px; padding: 30px 30px 40px 30px;"> <p style="font-size: 13px; color: #333;">Dear {{name}} Greetings !</p><p style="font-size: 13px; color: #333;">We recorded a login to your Cointronix account with the following details:</p><table> <tr> <td style="font-size: 13px; color: #333; padding-right: 70px;">Date/Time :</td><td style="font-size: 13px; color: #333; padding-right: 70px;">{{datetime}}</td></tr><tr> <td style="font-size: 13px; color: #333; padding-right: 70px;">IP Address : </td><td style="font-size: 13px; color: #333; padding-right: 70px;">{{ipaddress}}</td></tr><tr> <td style="font-size: 13px; color: #333; padding-right: 70px;">Browser :</td><td style="font-size: 13px; color: #333; padding-right: 70px;">{{browserinfo}}</td></tr></table> <p style="font-size: 13px; color: #333;">In case you notice any unauthorized login activity, immediately login to your Cointronix account, go to <span style="color: #3834b2;"> My Profile > Security tab and hit ‘Logout from all active devices’ </span>button.</p><p style="font-size: 13px; color: #333;">As a security measure, you can change your password and set up a two-factor authentication. If needed, you may contact the Cointronix Support team through phone call, email or chat. </p><p style="font-size: 13px; color: #333;">We wish you a successful trading and a committed support from Cointronix Team 24x7 !</p><p style="font-size: 13px; color: #333; padding-top: 20px;"><span>Best Regards,</span><br/>Team Cointronix<br/><a href="https://cointronix.co/">https://cointronix.co</a> </p></div><footer style="background-image: linear-gradient(90deg, #381768, #383fcf); height: auto; text-align: center; margin-top: -13px;"> <ul style="list-style: none; padding-left: 0px; padding-top: 35px;"> <li style="display: inline-block; display: inline-block; width: 15%; text-align: left; line-height: 1; border-left: 1px solid #fff; padding-left: 6px; padding-right: 35px;"> <a href="https://cointronix.co/" style="text-decoration: none; color: #fff; font-size: 13px; line-height: 1;" target="_blank"> cointronix.co<br/> <span style="font-size: 11px; color: #e2d2f9;">Exchange</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; border-left: 1px solid #fff; text-align: left; line-height: 1; padding-left: 6px; padding-right: 35px;"> <a href="https://cointronix.io/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> cointronix.io<br/> <span style="font-size: 11px; color: #e2d2f9;">ICO</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; border-left: 1px solid #fff; text-align: left; line-height: 1; padding-left: 6px; padding-right: 35px;"> <a href="https://evault.cointronix.co/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> evault.cointronix.co<br/> <span style="font-size: 11px; color: #e2d2f9;">Wallet</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; text-align: left; line-height: 1; padding-left: 6px; border-left: 1px solid #fff; padding-right: 35px;"> <a href="http://cointronix.news/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> cointronix.news<br/> <span style="font-size: 11px; color: #e2d2f9;">Newsmag</span> </a> </li></ul> <p style="text-align: center; color: #fff; margin-top: -8px; font-size: 11px; font-weight: 300; width: 75%; margin: 0 auto; color: #e2d2f9;">Cointronix is revolutionizing the financial technology space by combining the best of crypto trading with cutting-age technology tools. Now buy, sell, exchange, spend and lend 15+ Cryptocurrency under one roof. Join Cointronix and help create an open, accessible and fair financial future.</p><ul style="list-style: none; padding-left: 0px;"> <li style="display: inline-block; display: inline-block;"> <a href="https://www.facebook.com/cointronix1/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/f.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://twitter.com/Cointronix_?lang=en" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/t.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://www.instagram.com/cointronix/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/i.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://plus.google.com/112427651539892709664" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/g.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://www.linkedin.com/in/cointronix-exchange-4168ba16a/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/l.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://t.me/Cointronix" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/tt.png" style=" width: 27px;"> </a> </li></ul> <p style="text-align: center; color: #fff; margin-top: -8px; font-size: 11px; font-weight: 300; padding-bottom: 30px; color: #e2d2f9; padding-top: 8px;"><span style="color: #fff;">Cointronix Cryptocurrency Exchange</span><br/> 6 Raffles Boulevard, Marina Square, #03-304 to 327, Singapore 039594<br/> Email : support@cointronix.co Ph : +65 6932 2640</p></footer></div></body></html>`,

	setup_2fa: 
	`<!DOCTYPE html><html><head><title>Sonigator-Emailer</title><link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"></head><body style="padding-top: 5%; font-family: poppins;"> <div style="width: 70%; height: auto; margin: 0 auto; box-shadow: 0 0px 21px 3px rgba(0,0,0,.5);"> <p style="text-align: center; padding: 15px 0px; background-image: linear-gradient(90deg, #381768, #383fcf);"> <a href="https://sonigator.co/"><img src="https://cointronix.co/cointronix/images/mailer/logo_default_dark.png" style="width: 23%;"></a> </p><div style="height: auto; background-image: url(https://cointronix.co/cointronix/images/mailer/1.png); background-size: cover; margin-top: -13px; padding: 30px 30px 40px 30px;"> <p style="font-size: 13px; color: #333;">Dear {{name}} Greetings !</p><p style="font-size: 13px; color: #333;">We recorded an important activity into your Cointronix account. 2FA for Google Authenticator into your account has been setup or modification on date {{datetime}}. </p><p style="font-size: 13px; color: #333;">If this was not you, login into your account immediately, disable the Google Authenticator and set up a two-factor authentication again. If needed, you may contact the Cointronix Support team through phone call, Email or Chat. </p><p style="font-size: 13px; color: #333;">We wish you a successful trading and a committed support from Cointronix Team 24x7 !</p><p style="font-size: 13px; color: #333; padding-top: 20px;"><span>Best Regards,</span><br/>Team Cointronix<br/><a href="https://cointronix.co/">https://cointronix.co</a> </p></div><footer style="background-image: linear-gradient(90deg, #381768, #383fcf); height: auto; text-align: center; margin-top: -13px;"> <ul style="list-style: none; padding-left: 0px; padding-top: 35px;"> <li style="display: inline-block; display: inline-block; width: 15%; text-align: left; line-height: 1; border-left: 1px solid #fff; padding-left: 6px; padding-right: 35px;"> <a href="https://cointronix.co/" style="text-decoration: none; color: #fff; font-size: 13px; line-height: 1;" target="_blank"> cointronix.co<br/> <span style="font-size: 11px; color: #e2d2f9;">Exchange</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; border-left: 1px solid #fff; text-align: left; line-height: 1; padding-left: 6px; padding-right: 35px;"> <a href="https://cointronix.io/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> cointronix.io<br/> <span style="font-size: 11px; color: #e2d2f9;">ICO</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; border-left: 1px solid #fff; text-align: left; line-height: 1; padding-left: 6px; padding-right: 35px;"> <a href="https://evault.cointronix.co/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> evault.cointronix.co<br/> <span style="font-size: 11px; color: #e2d2f9;">Wallet</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; text-align: left; line-height: 1; padding-left: 6px; border-left: 1px solid #fff; padding-right: 35px;"> <a href="http://cointronix.news/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> cointronix.news<br/> <span style="font-size: 11px; color: #e2d2f9;">Newsmag</span> </a> </li></ul> <p style="text-align: center; color: #fff; margin-top: -8px; font-size: 11px; font-weight: 300; width: 75%; margin: 0 auto; color: #e2d2f9;">Cointronix is revolutionizing the financial technology space by combining the best of crypto trading with cutting-age technology tools. Now buy, sell, exchange, spend and lend 15+ Cryptocurrency under one roof. Join Cointronix and help create an open, accessible and fair financial future.</p><ul style="list-style: none; padding-left: 0px;"> <li style="display: inline-block; display: inline-block;"> <a href="https://www.facebook.com/cointronix1/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/f.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://twitter.com/Cointronix_?lang=en" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/t.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://www.instagram.com/cointronix/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/i.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://plus.google.com/112427651539892709664" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/g.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://www.linkedin.com/in/cointronix-exchange-4168ba16a/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/l.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://t.me/Cointronix" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/tt.png" style=" width: 27px;"> </a> </li></ul> <p style="text-align: center; color: #fff; margin-top: -8px; font-size: 11px; font-weight: 300; padding-bottom: 30px; color: #e2d2f9; padding-top: 8px;"><span style="color: #fff;">Cointronix Cryptocurrency Exchange</span><br/> 6 Raffles Boulevard, Marina Square, #03-304 to 327, Singapore 039594<br/> Email : support@cointronix.co Ph : +65 6932 2640</p></footer></div></body></html>`,

	account_deactivated: 
	`<!DOCTYPE html><html><head><title>Sonigator-Emailer</title><link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"></head><body style="padding-top: 5%; font-family: poppins;"> <div style="width: 70%; height: auto; margin: 0 auto; box-shadow: 0 0px 21px 3px rgba(0,0,0,.5);"> <p style="text-align: center; padding: 15px 0px; background-image: linear-gradient(90deg, #381768, #383fcf);"> <a href="https://sonigator.co/"><img src="https://cointronix.co/cointronix/images/mailer/logo_default_dark.png" style="width: 23%;"></a> </p><div style="height: auto; background-image: url(https://cointronix.co/cointronix/images/mailer/1.png); background-size: cover; margin-top: -13px; padding: 30px 30px 40px 30px;"> <p style="font-size: 13px; color: #333;">Dear {{name}} Greetings !</p><p style="font-size: 13px; color: #333;">We recorded an important activity into your Cointronix account. Your account has been deactivated from the user side on date {{datetime}}.</p><p style="font-size: 13px; color: #333;">If this was not you, please contact the Cointronix Support team through phone call, Email or Chat. We wish you a successful trading and a committed support from Cointronix Team 24x7 !</p><p style="font-size: 13px; color: #333; padding-top: 20px;"><span>Best Regards,</span><br/>Team Cointronix<br/><a href="https://cointronix.co/">https://cointronix.co</a> </p></div><footer style="background-image: linear-gradient(90deg, #381768, #383fcf); height: auto; text-align: center; margin-top: -13px;"> <ul style="list-style: none; padding-left: 0px; padding-top: 35px;"> <li style="display: inline-block; display: inline-block; width: 15%; text-align: left; line-height: 1; border-left: 1px solid #fff; padding-left: 6px; padding-right: 35px;"> <a href="https://cointronix.co/" style="text-decoration: none; color: #fff; font-size: 13px; line-height: 1;" target="_blank"> cointronix.co<br/> <span style="font-size: 11px; color: #e2d2f9;">Exchange</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; border-left: 1px solid #fff; text-align: left; line-height: 1; padding-left: 6px; padding-right: 35px;"> <a href="https://cointronix.io/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> cointronix.io<br/> <span style="font-size: 11px; color: #e2d2f9;">ICO</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; border-left: 1px solid #fff; text-align: left; line-height: 1; padding-left: 6px; padding-right: 35px;"> <a href="https://evault.cointronix.co/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> evault.cointronix.co<br/> <span style="font-size: 11px; color: #e2d2f9;">Wallet</span> </a> </li><li style="display: inline-block; display: inline-block; width: 15%; text-align: left; line-height: 1; padding-left: 6px; border-left: 1px solid #fff; padding-right: 35px;"> <a href="http://cointronix.news/" style="text-decoration: none; color: #fff; font-size: 13px;" target="_blank"> cointronix.news<br/> <span style="font-size: 11px; color: #e2d2f9;">Newsmag</span> </a> </li></ul> <p style="text-align: center; color: #fff; margin-top: -8px; font-size: 11px; font-weight: 300; width: 75%; margin: 0 auto; color: #e2d2f9;">Cointronix is revolutionizing the financial technology space by combining the best of crypto trading with cutting-age technology tools. Now buy, sell, exchange, spend and lend 15+ Cryptocurrency under one roof. Join Cointronix and help create an open, accessible and fair financial future.</p><ul style="list-style: none; padding-left: 0px;"> <li style="display: inline-block; display: inline-block;"> <a href="https://www.facebook.com/cointronix1/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/f.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://twitter.com/Cointronix_?lang=en" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/t.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://www.instagram.com/cointronix/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/i.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://plus.google.com/112427651539892709664" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/g.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://www.linkedin.com/in/cointronix-exchange-4168ba16a/" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/l.png" style=" width: 27px;"> </a> </li><li style="display: inline-block; display: inline-block;"> <a href="https://t.me/Cointronix" target="_blank"> <img src="https://cointronix.co/cointronix/images/mailer/tt.png" style=" width: 27px;"> </a> </li></ul> <p style="text-align: center; color: #fff; margin-top: -8px; font-size: 11px; font-weight: 300; padding-bottom: 30px; color: #e2d2f9; padding-top: 8px;"><span style="color: #fff;">Cointronix Cryptocurrency Exchange</span><br/> 6 Raffles Boulevard, Marina Square, #03-304 to 327, Singapore 039594<br/> Email : support@cointronix.co Ph : +65 6932 2640</p></footer></div></body></html>`
};

var parseBody = (body, data) => {
	for(var key in data) {
		body = body.replace('{{'+ key +'}}', data[key]);
	}
	return body;
};

const object = {
	initMail: (name, type, data) => {
		return new bluebird.Promise(function(resolve, reject) {
			var mailOptions = {
				from: `sonigator <${sender}>`,
				replyTo: reply,
				to: data.to,
				subject: data.subject || 'Sonigator Mail',
				type: "html"
			};
			if(mailOptions.type == 'text')
				mailOptions.text = parseBody(mailBodies[name], data);
			else
				mailOptions.html = parseBody(mailBodies[name], data);

			transporter.sendMail(mailOptions, function(err, info){
				if(err){
					console.log(err);
					reject(err);
				}else{
					console.log("Mail Sent:", info.response, JSON.stringify(data));
					resolve(true);
				}
			});
		});
	}
};

module.exports = object;